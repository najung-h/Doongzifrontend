# PRD: 둥지(Doongzi) - 부동산 계약 안전 도우미

## 1. 프로젝트 개요

- **프로젝트명**: 둥지 (Doongzi)
- **목표**: 부동산 임대차 계약 시 안전한 거래를 돕는 통합 웹 서비스
- **타겟 유저**: 부동산 계약 초보자, 법률/부동산 지식이 부족한 사용자, 사회 초년생
- **핵심 가치**: 
    1. 문서 기반 분석: 계약서/등기부등본 자동 분석 및 위험도 시각화
    2. 단계별 가이드: 계약 전/중/후 체크리스트 및 AI 진단 도구
    3. 개인화: 사용자가 직접 관리하는 계약 정보 및 자료 아카이빙

------

## 2. 기술 스택

```json
{
  "framework": "React 18",
  "build_tool": "Vite",
  "language": "TypeScript",
  "routing": "React Router v6",
  "http_client": "Axios",
  "pdf_generation": "@react-pdf/renderer",
  "styling": "Styled-components (추천) or CSS Modules (Hover 및 동적 인터랙션 구현을 위해 단순 인라인 스타일 지양)"
}
```

------

## 3. 환경 변수

```bash
# .env
VITE_N8N_CHATBOT_WEBHOOK_URL=      # 어미새 챗봇 + 법률 사전
VITE_N8N_SCAN_WEBHOOK_URL=       # 둥지 스캔 (문서 분석/OCR)
VITE_N8N_CHECKLIST_WEBHOOK_URL= # 둥지 짓기 플랜 (위험도 분석, PDF, 이메일 등)
```

------

## 4. 페이지 구성

### 4.1 HomePage (메인 페이지)

**경로**: `/`

**구성 요소**:

- 서비스 소개 섹션
- 4개 카드: "둥지 스캔하기", "둥지 짓기 플랜", "어미새 챗봇", "똑똑한 법률 사전"
- 각 카드 클릭 시 해당 페이지로 이동

------

### 4.2 ChatbotPage (어미새 챗봇)

**경로**: `/chatbot`

#### UI 구성

- 채팅 인터페이스 (카카오톡 스타일)
- 사용자 메시지 (오른쪽):
  - 배경색: Primary Green (#8FBF4D)
  - 텍스트: White (#FFFFFF) 또는 가독성을 고려한 Text Black (#333333)
- AI 메시지 (왼쪽):
  - 배경색: Card White (#FFFFFF) (그림자 효과 적용)
  - 텍스트: Text Black (#333333)
- 하단 고정 제안 질문 3개 버튼:
  - "확정일자 관련 질문이 어떤게 있나요?"
    - 답변(System Prompt): "확정일자는 보증금을 지키기 위한 필수 안전장치예요! 주로 이런 것들을 물어보세요: \n1. 확정일자는 어디서 받나요? \n2. 이사 당일에 바로 받아야 하나요? \n3. 확정일자와 전세권 설정의 차이는 뭔가요?"
  - "전세사기 위험징후는 뭘까요?"
    - 답변(System Prompt): "가장 대표적인 위험 신호 3가지입니다. \n1. 깡통전세: 매매가 대비 전세가가 80%를 넘을 때 \n2. 선순위 채권: 집주인의 빚(근저당)이 너무 많을 때 \n3. 신탁 등기: 집주인이 소유권을 신탁회사에 넘겼는데 알리지 않았을 때 \n'둥지 스캔' 기능을 쓰시면 이 서류들을 제가 대신 봐드릴 수 있어요!"
  - "반전세는 뭘까요?"
    - 답변(System Prompt): "전세와 월세가 섞인 형태를 말해요. 보통 전세 보증금을 조금 낮추는 대신, 그 차액만큼 매달 월세를 내는 방식이죠. '보증부 월세'라고도 불리며, 전세 대출 이자가 부담스러울 때 많이 선택하는 방법이에요."
- 입력창 영역:
  - 입력창 배경: Card White (#FFFFFF)
  - 전송 버튼: Primary Green (#8FBF4D) (비행기 아이콘)

------

### 4.3 ScanPage (둥지 스캔하기)

**경로**: `/scan`

#### UI 구성

- 파일 드래그 앤 드롭 영역
- 파일 업로드 버튼
- 지원 형식: PDF (최대 10MB)
- 분석 중: 프로그레스 바 + "계약서를 꼼꼼히 읽고 있어요..." 텍스트 애니메이션.
- 분석 결과 카드:
  - 위험 등급: 낮음(초록), 보통(노랑), 높음(빨강)
  - 문제점 리스트
  - 권장사항 리스트
  - '진단'보다는 **'자동화'**에 초점. 문서를 분류하여 체크리스트를 자동으로 채워주고 근거를 제시한다.

#### 프로세스 흐름
- 파일 업로드: 드래그 앤 드롭으로 다중 파일 업로드 (등기부등본, 계약서, 건축물대장 등).
- AI 문서 분류 및 분석 (Loading UI): "문서 종류를 식별하고 있습니다..." -> "등기부등본 확인됨" -> "내용 분석 중..." 텍스트 애니메이션.
- 결과 모달 (Checklist Integration):
  - 헤더: "3개의 문서를 분석하여 5개의 체크리스트를 미리 확인했어요!" (Main Green 텍스트).
  - 자동 체크 항목 리스트: 
    - 각 항목은 '카드' 형태.
    - 좌측: 체크리스트 제목 (예: "소유자 일치 여부 확인").
    - 우측: [자동 완료] 뱃지.
- 종료 액션: [체크리스트 보러 가기] 버튼 클릭 시 /checklist로 이동하며, 해당 항목들이 checked 상태로 렌더링됨.


------

### 4.4 ChecklistPage (둥지 짓기 플랜)

**경로**: `/checklist`

#### UI 구성

- 3개 탭: "계약 전", "계약 중", "계약 후"
- 각 탭별 체크리스트 아이템:
  - 체크박스
  - 제목
  - 설명 (접기/펼치기)
  - "AI 챗봇에게 자세히 물어보기" 버튼 → 어미새 챗봇 페이지로 이동
- 진행률 표시: "n/n 완료"
- 진행률 프로그레스 바 (아기새가 둥지에 가까워지는 시각 효과)
- 상단 버튼:
  - "PDF 다운로드" → n8n API 호출
  - "이메일 전송" → n8n API 호출

#### MVP 기능
1. **계약서 꼼꼼히 살펴보기**: '위험 탐지'와 **'사후 관리'**에 초점. 독소조항 분석 리포트 제공 및 주요 일정(확정일자 등)을 캘린더에 자동 등록한다.

    A. 진입 및 업로드
      - 진입: 체크리스트 내 해당 항목 클릭 -> [내 계약서 정밀 진단하기] 버튼 클릭.
      - 모달 오픈 & 업로드: 계약서(PDF/IMG) 업로드.

    B. 분석 결과 리포트 (대시보드 UI)
      - 모달 내부에서 스크롤 가능한 긴 형태의 리포트 뷰 제공.
      - 종합 점수: 상단에 큰 게이지 바와 함께 "안전 점수 {score}점" 표시.
      - 위험 요소 진단 (Risk & Toxic Clauses):
        - [위험] 뱃지가 붙은 붉은 박스 리스트.
        - 내용: 독소 조항 원문 + AI의 수정 권고안.

    C. 사용자 추가 액션 (Footer)
      - [PDF로 저장]: 현재 분석 리포트를 PDF 파일로 다운로드.
      - [메일로 보내기]: 사용자 이메일로 분석 리포트를 PDF 파일로 전송.
      - [진단 완료]: 클릭 시 모달이 닫히며 체크리스트 항목 완료 처리

2. **매매가격 확인하기 - 깡통전세 위험도 분석**
- 사용자가 보증금과 주소를 입력하면 주변 시세와 보증금의 비율을 토대로 깡통전세 위험도를 분석.
- 적정 수준 대비 사용자의 보증금을 비교한 게이지 차트를 제공. 일단 목업 데이터 렌더링

3. **체크리스트 내보내기**
- 상단 버튼을 누르면 n8n API를 호출.
  - "PDF 다운로드" → 체크리스트 항목을 PDF 파일로 다운로드.
  - "이메일 전송" → 사용자의 이메일로 체크리스트 항목을 PDF 형식으로 발송.

#### 체크리스트

**계약 전**:

1. 매매가격 확인하기

   * 이게 뭐예요?

     * 이 집이 실제로 얼마에 팔리는지 시세를 알아보는 거예요. 내가 낼 전세금이 집값에 비해 너무 비싼지 확인해서, 위험한 '깡통전세'를 피하려는 거예요.

   * 왜 해야 하나요?

     * '깡통전세'는 집주인 빚이 너무 많거나 집값이 떨어져서, 나중에 내가 낸 전세금을 돌려받기 어려운 위험한 집을 말해요. 만약 집값(예: 3억)이랑 전세금(예: 2억 8천)이 별 차이 안 나면, 집이 경매로 넘어갔을 때 내 보증금을 다 못 받을 수도 있어요.

   * [국토교통부 전월세 실거래가 조회 버튼(웹사이트 연결, https://rt.molit.go.kr/pt/gis/gis.do?srhThingSecd=A&mobileAt=)]

   * [깡통전세 위험도 분석 버튼]

2. 보증보험 가입 가능 여부 확인하기

   * 이게 뭐예요?

     * 내가 낸 전세금을 나중에 집주인 대신 보증 기관(HUG 등)이 꼭 돌려주겠다고 약속하는 '보험'에 가입할 수 있는지 미리 알아보는 거예요.

   * 왜 해야 하나요?

     * 만약 이 집에 '보증보험' 가입이 안 된다면, 그건 집주인 빚이 너무 많거나, 집에 다른 문제가 있을 가능성이 높다는 신호예요. 이런 집은 나중에 보증금을 돌려받기 더 위험할 수 있어요.

   * [HUG 전세보증보험 버튼(웹사이트 연결, https://www.khug.or.kr/hug/web/ig/dr/igdr000001.jsp)]

   * [SGI 전세보증보험 버튼(웹사이트 연결, https://www.sgic.co.kr/biz/ccp/index.html?p=CCPPRD040301F01)]

   * [보증보험 가입 가능 여부 확인 버튼(모달)]

3. 등기부등본 확인하기 

       3-1. 선순위 권리관계 확인하기
          
               * 이게 뭐에요?
          
                       * 집에 이미 설정된 전세권·근저당·임차권(선순위 보증금) 같은 권리들이 있는지 확인하는 절차예요. 누가 먼저 돈을 돌려받을 권리가 있는지 등기부에서 순서를 확인하는 과정입니다.
          
               * 왜 해야 하나요?
          
                       * 선순위 권리가 많으면 내 보증금이 후순위로 밀려 돌려받지 못할 위험이 커져요. 특히 선순위 보증금이나 근저당 합계가 시세를 넘으면 전세사기 위험이 매우 높기 때문입니다.
          
       3-2. 집과 소유자에 관련된 돈문제가 있는지 확인하기
          
               * 이게 뭐에요?
          
                       * 소유자에게 가압류·압류·강제경매·세금 체납 등이 걸려있는지 확인하는 과정이에요. 즉, 집주인의 재정 상태가 위험해서 집이 공매·경매로 넘어갈 가능성을 확인하는 단계입니다.
          
               * 왜 해야 하나요?
          
                       * 이런 기록이 있으면 집주인이 경제적으로 위험한 상태일 확률이 높아요. 결과적으로 전세보증금을 제대로 돌려받지 못할 가능성이 높아지기 때문에 반드시 확인해야 합니다.
          
       * [등기부등본 발급하러가기 버튼(웹사이트 연결, https://www.iros.go.kr/index.jsp)]
          
       * [등기부등본 분석하러가기 버튼]

4. 단독/다가구 주택이면 필요한 추가 확인

   * 이게 뭐예요?

     * 단독·다가구 주택은 한 건물 등기부로 모든 세대가 묶여 있는 구조라서, 실제 임차 세대별 권리관계를 등기부만으로 알 수 없어요. 따라서 전입한 사람 수, 기존 세입자의 보증금, 전입 날짜 등을 확인하기 위해 ‘전입세대 열람’, ‘확정일자 현황’을 추가로 확인하는 절차예요.

   * 왜 해야 하나요?

     * 단독·다가구는 앞선 세입자의 보증금이 많으면 내 보증금이 후순위가 되어 못 돌려받을 위험이 매우 커요. 또 등기부만으로는 선순위 임차인이 있는지 알 수 없기 때문에, 전입세대/확정일자 정보를 반드시 확인해야 안전하게 보증금을 보호할 수 있어요.

5. 무허가·불법 건축물 여부 확인하기

   * 이게 뭐예요?

     * 위반건축물은 아닌지, 건물 용도가 주택이 맞는지(근린생활시설은 아닌지), 건물의 동호수가 건축물 대장상 동호수와 일치하는지 확인하기 위해서 하는거에요.

   * 왜 해야 하나요?

     * 전입신고를 할 수 없는 무허가 및 불법 건축물은 주택임대차보호법 적용을 받지 않아 보증금 보호가 어려운 경우가 있어서 꼭 확인해야 해요.

   * [건축물대장 분석하러가기]

**계약 중**:

1. 등기부등본 확인하기

       1-1. 이 집에 소유권은 누구에게 있는지 확인하기
          
               * 이게 뭐에요?
          
                       * 소유권을 가진 사람이 누구인지, 몇 명인지 등기부등본을 통해 확인하는 과정이에요. 소유자가 두 명 이상이면 모든 공유자와 계약해야 한다는 점도 함께 확인해야 해요.
          
               * 왜 해야 하나요?
          
                       * 실제 집주인이 아닌 사람과 계약하면 계약이 무효가 될 수 있고, 보증금을 돌려받지 못할 위험이 커져요. 또 공유주택인 경우 모든 공유자의 동의 없이 계약하면 법적 효력이 없기 때문에 반드시 확인해야 해요.
          
       1-2. 신탁등기 상태 확인하기
          
               * 이게 뭐에요?
          
                       * 등기부등본에서 이 집이 신탁회사에 맡겨진 상태인지(신탁등기) 확인하는 절차예요. 신탁등기면 겉보기 집주인이 아니라 신탁회사가 실제 권한을 가지고 있는 구조예요.
          
               * 왜 해야 하나요?
          
                       신탁된 집을 집주인과만 계약하면 계약이 무효가 될 수 있어, 보증금을 한순간에 잃을 위험이 있어요. 반드시 신탁회사 동의가 필요한 집이므로, 이를 모르고 계약하면 추후 강제퇴거·보증금 미반환 위험이 매우 커져요.
          
               * [신탁등기 상태가 확인되었다면 주민센터가서 신탁원부 확인하는거 안내]        
          
       * [등기부등본 발급하러가기 버튼(웹사이트 연결, https://www.iros.go.kr/index.jsp)]

      * [등기부등본 분석하러가기 버튼]

2. 임대인 확인하기.

       * 이게 뭐에요?
          
               * 지금 나와 계약하는 사람이 이 집의 진짜 주인이 맞는지 신분증으로 확인하는 과정이에요. 등기부등본의 소유자 정보와 실제 계약 상대가 동일한지 대조하는 절차예요.
          
       * 왜 해야 하나요?
          
               * 가짜 임대인에게 속아 계약하면 전세보증금을 통째로 잃는 전형적인 전세사기 유형이기 때문이에요. 임대인 확인은 전세사기를 막기 위한 가장 기본이면서도 가장 중요한 체크 단계예요.

3. 대리인과 계약한다면? 위임장 확인하기

       * 이게 뭐에요?
          
               * 임대인이 직접 나오지 않고 대리인이 나왔다면, 집주인이 “대신 계약해도 된다”라고 허락했다는 위임장 + 인감증명서를 확인하는 과정이에요. 대리인의 신분증과 임대인과의 관계도 반드시 확인해야 해요.
          
       * 왜 해야 하나요?
          
               * 위임장과 인감증명서가 없으면 대리인과의 계약은 법적으로 무효가 될 수 있어 보증금을 보호받지 못해요. 가족·친구라 해도 공식 위임이 없으면 사기와 동일한 결과를 초래할 수 있기 때문이에요.

      * [인감증명발급 사실확인 버튼, 웹사이트 연결(https://www.gov.kr/mw/EgovPageLink.do?link=ingam/ingam)]

4. 공인중개사 확인하기

       * 이게 뭐에요?
          
               * 집을 소개해준 중개사가 국가에 등록된 정식 공인중개사가 맞는지 확인하는 절차예요. 등록번호·자격증 번호·개업공인중개사 여부 등을 조회해 진짜 중개인인지 확인해요.
          
       * 왜 해야 하나요?
          
               * 무등록 중개업자는 사고가 나도 책임을 지지 않고, 보증보험도 가입돼 있지 않아 어떤 보호도 받을 수 없어요. 중개사 확인은 거래 안전장치를 확보하는 유일한 법적 보호막이기 때문이에요.
          
       * [공인중개사 자격확인 버튼(https://www.vworld.kr/dtld/broker/dtld_list_s001.do)]

5. 미납국세·임금채권 확인하기(선택)

       * 이게 뭐에요?
          
               * 임대인이 세금(국세)을 체납했거나 직원 임금을 밀린 상태인지 확인하는 과정이에요. 이 정보는 등기부에 나오지 않지만 임대인의 경제적 위험도를 파악하는 핵심 신호예요.
          
       * 왜 해야 하나요?
          
               * 세금·임금채권은 경매 시 전세보증금보다 우선해서 가져가는 채권이라 내 보증금이 밀릴 수 있어요. 임대인의 재정 상태가 위험하면 전세금 반환이 어려워질 가능성이 높아 반드시 확인해야 해요.

6. 계약서 작성하기 

       6-1. 계약 내용 꼼꼼히 확인하기
          
               * 이게 뭐에요? 
          
                       * 계약서에 적힌 주소, 보증금, 이사 날짜, 임대인 정보 등이 실제 사실과 정확히 일치하는지 글자 하나까지 확인하는 과정이에요. 등기부에서 확인한 정보와 계약서 내용이 동일한지도 반드시 대조해야 해요.
          
               * 왜 해야 하나요?
          
                       * 숫자·주소 하나만 틀려도 분쟁이 발생하거나 계약 효력이 흔들릴 수 있어 큰 금전적 피해로 이어질 수 있어요. 특히 주소, 동·호수, 보증금 오기입은 전세사기에서 가장 흔한 피해 유형이에요.
          
       6-2. 특약사항 위험 요소 확인하기
          
               * 이게 뭐에요?
          
                       * 계약서 특약에 임차인에게 불리한 조항, 책임을 떠넘기는 내용, 모호한 문구가 있는지 점검하는 과정이에요. 특약은 일반 조항보다 우선 적용되기 때문에 매우 중요한 부분이에요.
          
               * 왜 해야 하나요?
          
                       * 특약이 잘못 적혀 있으면 법적 분쟁 시 임차인이 불리해지고, 보증금 반환·수리비 부담 문제가 발생할 수 있어요. 특히 전세사기에서 악성 특약이 숨어 있는 경우가 많아 반드시 사전 점검이 필요해요.
          
       * [계약서 분석하러가기 버튼]

**계약 후**:

1. 잔금 지급 전 : 권리변동·이중계약·특약 불이행 점검하기

   * 이게 뭐예요?

     * 전세 잔금을 최종 지급하기 직전에 다시 한번 확인하는 과정이에요. 잔금을 내는 순간부터 임대차 계약이 실제로 성립되며, 그 즉시 발생하는 위험요소를 미리 차단하는 단계에요.

   * 왜 해야 하나요?

     * 계약서만 작성한 상태에서는 아직 법적 보호를 받지 못하기 때문에, 잔금을 지급하기 전에 집의 권리관계가 안전하게 유지되고 있는지 반드시 다시 확인해야 해요. 등기부등본을 새로 발급해 소유권 변경·근저당 설정·압류 등 위험 요소가 생기지 않았는지, 기존 세입자가 정확히 퇴거했는지, 그리고 계약서에 적힌 특약사항들이 실제로 이행되었는지 점검해야 잔금 지급 이후 내 보증금을 안전하게 보호할 수 있어요.
   * [등기부등본 발급하러가기 버튼, 웹사이트 연결(https://www.iros.go.kr/index.jsp)]
   * [등기부등본 분석하러가기 버튼]

2. 주택 상태 확인 및 이사하기

   * 이게 뭐예요?

     * 입주 전·후에 집 상태를 사진으로 남기고, 이사 업체와 일정·책임을 미리 맞춰두며, 전기·가스처럼 빠져나가는 공과금도 정리해 두는 거예요.

       왜 해야 하나요?

       * 사진을 찍어두지 않으면 나중에 원래 있던 하자까지 내 책임이 되는 일이 생길 수 있고, 이사 업체나 공과금 정리를 미뤄두면 예상치 못한 비용 분쟁이 생길 수 있어요.

3. 전입신고하여 대항력 확보하기

   * 이게 뭐예요?

     * ①그 집에 진짜 이사해서 살고, ②주민센터에 "저 이 집으로 이사 왔어요"라고 신고(전입신고)하는 거예요.

   * 왜 해야 하나요?

     * 이 두 가지를 완료해야 '대항력'이라는 힘이 생겨요. 이 힘이 있으면, 계약 기간 중에 집주인이 바뀌어도 "난 계약 기간 끝날 때까지 여기서 살 거예요!"라고 당당하게 말할 수 있어요. 새 주인이 나가라고 해도 안 나가도 돼요.

4. 임대차 신고제 대상인지 확인하기

   * 이게 뭐예요?

     * 보증금과 월세에 따라 임대차 신고제 대상인지 확인하는 거예요.

   * 왜 해야 하나요?

     * 신고제 대상인데 신고하지 않으면, 100만원 이하의 과태료가 부과돼요.

5. 임대차 신고제 대상인 경우 신고하기

   * 이게 뭐예요?

     * 이 집에 얼마에, 어떤 조건으로, 언제부터 언제까지 살기로 계약했다는 내용을 정부에 공식적으로 신고하는 제도에요.

   * 왜 해야 하나요?

     * 신고 대상자는 반드시 신고해야 하고, 신고를 하면 확정일자가 자동으로 부여돼요. 확정일자와 대항력을 모두 갖추면 우선변제권을 확보할 수 있어요.

6. 확정일자 받기

   * 이게 뭐예요?

     * 계약서에 '확정일자'라는 도장을 받아서, '내 보증금을 다른 채권자들보다 먼저 돌려받을 수 있는 권리'인 우선변제권을 확보하는 거예요.

   * 왜 해야 하나요?

     * 전입신고만 하면 보증금 반환 순서가 다른 채권자들보다 뒤로 밀릴 수 있어요. 확정일자를 받아두어야 경매가 진행될 때 내 보증금을 우선해서 돌려받을 수 있는 권리가 생겨요.

7. (선택) 전세보증금 반환보증 가입하기

   * 이게 뭐예요?

     * 전세계약이 끝났을 때 임대인이 보증금을 돌려주지 않더라도, HUG나 SGI가 대신 보증금을 먼저 지급해주는 보험이에요. 전세보증금이 위험해질 때를 대비해서 보증기관이 세입자의 돈을 대신 지켜주는 장치예요.

   * 왜 해야 하나요?

     * 전세사기는 대부분 세입자가 계약 기간 종료 후 보증금을 못 돌려받는 상황에서 발생해요. 세입자가 통제할 수 없는 상황이 존재하기 때문에 마지막 안전망으로 가입하는 것을 권장합니다.


------

### 4.5 SearchPage (똑똑한 법률 사전)

**경로**: `/search`

#### UI 구성

- 검색창
- 검색 결과 리스트 (하드코딩 2개)
- 결과 클릭 시 상세 내용 표시

**참고**: 검색 기능 없이 정적 데이터만 표시하거나 챗봇으로 리다이렉트

------

### 4.6 MyPage (마이페이지)

**경로**: `/mypage`

#### UI 구성

- 프로필 정보 (하드코딩)
- 내 주택 정보 (가짜 데이터)
  - 이 집과 연결된 문서 목록(가짜 데이터)
    - 임대차 계약서
    - 등기부등본
    - 건축물대장


- 대화 기록 (가짜 데이터)

**참고**: 비핵심 기능, Mock 데이터로 UI 구현한 정적 페이지로만 구현

------

## 5. 프로젝트 구조

```
doongzi-frontend/
├── public/
│   └── assets/           # 로고, 아이콘, 새 이미지
├── src/
│   ├── main.tsx          # 엔트리포인트
│   ├── App.tsx           # 라우팅
│   ├── config/
│   │   └── env.ts        # 환경 변수 관리
│   ├── pages/
│   │   ├── HomePage.tsx
│   │   ├── ChatbotPage.tsx
│   │   ├── ChecklistPage.tsx
│   │   ├── ScanPage.tsx
│   │   ├── SearchPage.tsx
│   │   └── MyPage.tsx
│   ├── components/
│   │   ├── FileUpload.tsx
│   │   ├── ChatMessage.tsx
│   │   ├── ChecklistItem.tsx
│   │   ├── ProgressBar.tsx
│   │   ├── RiskGauge.tsx
│   │   ├── RegistryModal.tsx
│   │   └── Layout.tsx
│   ├── api/
│   │   ├── index.ts      # Axios 설정
│   │   ├── chat.ts
│   │   ├── scan.ts
│   │   └── checklist.ts
│   ├── types/
│   │   └── index.ts      # 모든 TypeScript 타입
│   └── utils/
│       ├── pdfGenerator.tsx
│       └── mockData.ts   # 가짜 데이터
├── .env
├── .gitignore
├── package.json
├── tsconfig.json
├── vite.config.ts
└── README.md
```

------

## 6. 주요 TypeScript 타입 정의

```typescript
// src/types/index.ts

// ==========================================
// 1. Common & Base Types
// ==========================================
export type ActionType = 
  | 'sendMessage' | 'searchLegal'          // Chat Service
  | 'scanDocuments' | 'deepAnalyzeContract' // Document Service
  | 'analyzeRisk' | 'exportPDF' | 'sendEmail'; // Checklist Service

export interface BaseResponse {
  success: boolean;
  message?: string;
}

// ==========================================
// 2. Chat Service Types (어미새 챗봇 & 법률 사전)
// ==========================================
export type ChatMessage = {
  role: 'user' | 'assistant';
  content: string;
  timestamp?: Date;
};

export type LegalSearchResult = {
  title: string;
  summary: string;
  link: string;
};

// API Response Types
export interface ChatReplyResponse extends BaseResponse {
  reply: string;
  conversation_id?: string;
}

export interface LegalSearchResponse extends BaseResponse {
  results: LegalSearchResult[];
}

// ==========================================
// 3. Document Service Types (둥지 스캔)
// ==========================================
export type RiskGrade = 'low' | 'medium' | 'high';
export type IssueSeverity = 'warning' | 'danger';

export type ScanIssue = {
  title: string;
  severity: IssueSeverity;
  description: string;
};

export type AutoCheckItem = {
  id: string;
  completed: boolean;
  reason?: string; // API 명세에는 없으나 UI 표시용으로 권장
};

export type ToxicClause = {
  article: string;     // 예: "제 5조 (수선)"
  original: string;    // 원문
  risk: string;        // 위험 사유
  recommendation: string; // 수정 권고안
};

// API Response Types
export interface ScanResponse extends BaseResponse {
  analysis: {
    riskGrade: RiskGrade;
    summary: string;
    issues: ScanIssue[];
    autoCheckItems: AutoCheckItem[];
  };
}

export interface DeepAnalysisResponse extends BaseResponse {
  report: {
    score: number;
    toxicClauses: ToxicClause[];
    safeClauses: string[];
  };
}

// ==========================================
// 4. Checklist Service Types (둥지 짓기 플랜)
// ==========================================
// UI Management Types
export type ChecklistItem = {
  id: string;
  title: string;
  description?: string;
  completed: boolean;
  helpKeyword?: string; // 챗봇 질문용 키워드
};

export type ChecklistTab = {
  id: 'before' | 'during' | 'after';
  name: string;
  items: ChecklistItem[];
};

// Risk Analysis Types
export type RiskLevel = 'safe' | 'warning' | 'danger';

export interface RiskAnalysisResult {
  riskLevel: RiskLevel;
  ratio: number;       // 전세가율
```

------

## 7. 디자인 가이드

### Color Palette
- Primary Green (메인): #8FBF4D (버튼, 활성 아이콘, 활성 체크박스, 로고)
- Background Cream (배경): #FFF9E6 (앱 전체 배경)
- Card White (카드 배경): #FFFFFF (컨텐츠 영역)
- Text Black (본문): #333333
- Text Gray (설명): #666666
- Risk Levels:
  - Safe (안전): #4CAF50 (낮은 위험도, 안전 등급 텍스트)
  - Warning (주의): #FFC107 (중간 위험도)
  - Danger (위험): #F44336 (높은 위험도, 독소조항 박스 테두리/텍스트)

### 폰트

- 기본: sans-serif
- 제목: bold

### 레이아웃

- 카드 스타일 디자인
- 둥근 모서리 (border-radius: 8px)
- 그림자 효과 (box-shadow)

### 차트/게이지 구현

- 별도의 무거운 차트 라이브러리(Chart.js 등) 설치를 금지하고, CSS(width % 제어)를 활용하여 가볍고 커스텀 가능한 바(Bar) 형태의 게이지로 구현할 것.

------

## 8. Mock 데이터 예시

```typescript
// src/utils/mockData.ts

import { 
  ScanResponse, 
  DeepAnalysisResponse, 
  RiskCheckResponse, 
  ChecklistTab,
  ChatReplyResponse
} from '../types';

// ------------------------------------------------------------------
// 1. 둥지 스캔 (Document Service - scanDocuments)
// ------------------------------------------------------------------
export const MOCK_SCAN_RESPONSE: ScanResponse = {
  success: true,
  analysis: {
    riskGrade: 'medium', // 'low' | 'medium' | 'high'
    summary: '등기부등본 분석 결과, 소유권은 명확하나 근저당 설정 비율이 다소 높습니다.',
    issues: [
      {
        title: '근저당 설정 확인',
        severity: 'warning',
        description: '채권최고액(1.2억)이 시세의 40%를 차지하고 있습니다. 보증금과 합산 시 주의가 필요합니다.'
      },
      {
        title: '건축물대장 미확인',
        severity: 'danger',
        description: '건축물대장 파일이 업로드되지 않아 위반건축물 여부를 확인할 수 없습니다.'
      }
    ],
    autoCheckItems: [
      {
        id: 'owner_match',
        completed: true,
        reason: '등기부등본 갑구 소유자(김철수)와 계약서 임대인 정보가 일치합니다.'
      },
      {
        id: 'illegal_building',
        completed: false,
        reason: '건축물대장 데이터가 없어 확인하지 못했습니다.'
      }
    ]
  }
};

// ------------------------------------------------------------------
// 2. 계약서 정밀 진단 (Document Service - deepAnalyzeContract)
// ------------------------------------------------------------------
export const MOCK_DEEP_ANALYSIS_RESPONSE: DeepAnalysisResponse = {
  success: true,
  message: '계약서 분석이 완료되었습니다.',
  report: {
    score: 70,
    toxicClauses: [
      {
        article: '제 5조 (수선의무)',
        original: '임차 주택의 모든 수선 및 유지보수 비용은 임차인이 부담한다.',
        risk: '임대인의 법적 수선의무(민법 제623조)를 면제하는 불리한 특약입니다.',
        recommendation: '난방, 상하수도 등 주요 설비의 노후로 인한 수리는 임대인이 부담한다는 문구를 추가하세요.'
      },
      {
        article: '특약사항 2조',
        original: '계약 종료 전 퇴거 시 중개수수료는 임차인이 부담하고 남은 월세를 일시불로 지급한다.',
        risk: '중도 해지 시 위약금이 과다하게 설정되어 있습니다.',
        recommendation: '다음 세입자가 구해지는 시점까지만 월세를 부담하도록 협의가 필요합니다.'
      }
    ],
    safeClauses: [
      '임대차 기간 (2년 보장)',
      '계약금 및 잔금 지급 시기 명시'
    ]
  }
};

// ------------------------------------------------------------------
// 3. 깡통전세 위험도 분석 (Checklist Service - analyzeRisk)
// ------------------------------------------------------------------
export const MOCK_RISK_CHECK_RESPONSE: RiskCheckResponse = {
  success: true,
  result: {
    riskLevel: 'danger', // 'safe' | 'warning' | 'danger'
    ratio: 85.7,
    message: '매매가 대비 전세가율이 80%를 초과하여 깡통전세 위험이 매우 높습니다.',
    graphData: {
      safeLine: 70,
      current: 85.7
    }
  }
};

// ------------------------------------------------------------------
// 4. 챗봇 응답 (Chat Service - sendMessage)
// ------------------------------------------------------------------
export const MOCK_CHAT_RESPONSE: ChatReplyResponse = {
  success: true,
  reply: '확정일자란 임대차 계약 문서가 특정 날짜에 존재했음을 공적으로 증명하는 법률상의 날짜입니다. 이를 받으면 경매 시 우선변제권을 확보할 수 있어 매우 중요해요!',
  conversation_id: 'mock-conv-12345'
};

// ------------------------------------------------------------------
// 5. 체크리스트 UI 데이터 (ChecklistTab[])
// ------------------------------------------------------------------
export const mockChecklistData: ChecklistTab[] = [
  {
    id: 'before',
    name: '계약 전',
    items: [
      {
        id: 'price-check',
        title: '매매가격 확인하기',
        description: '호가가 아닌 국토부 실거래가를 기준으로 시세를 파악하세요.',
        completed: false,
        helpKeyword: '매매가격'
      },
      {
        id: 'insurance-check',
        title: '보증보험 가입 가능 여부',
        description: 'HUG 또는 SGI 보증보험 가입 조건에 부합하는지 확인하세요.',
        completed: false,
        helpKeyword: '보증보험'
      },
      {
        id: 'owner_match', // scanDocuments 결과와 매핑될 ID
        title: '소유자 일치 여부 확인',
        description: '신분증과 등기부등본상의 소유자가 같은 사람인지 확인하세요.',
        completed: false, // 둥지 스캔 후 true로 변경됨
        helpKeyword: '소유자 확인'
      }
    ]
  },
  {
    id: 'during',
    name: '계약 중',
    items: [
      {
        id: 'contract-paper',
        title: '표준임대차계약서 사용',
        description: '법적 보호를 받기 쉬운 표준 계약서를 사용하는 것이 좋습니다.',
        completed: false,
        helpKeyword: '표준계약서'
      }
    ]
  },
  {
    id: 'after',
    name: '계약 후',
    items: [
      {
        id: 'report-date',
        title: '전입신고 및 확정일자',
        description: '이사 당일 즉시 주민센터를 방문하거나 정부24로 신고하세요.',
        completed: false,
        helpKeyword: '확정일자'
      }
    ]
  }
];
```



